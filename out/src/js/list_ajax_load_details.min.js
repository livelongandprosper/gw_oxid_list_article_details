var gw_product_list_item_iterator=0,ajax_content_iterator_row=0,ajax_content_iterator_item=0;(function(gw){gw(window.jQuery,window,document)})(function($,window,document){$(function(){function gw_append_ajax_list_elements(){var $not_prepared_productData_elements=$(".list-container .productData").not(".ajax-prepared"),$list_rows=$(".list-container > .row").not(".ajax-prepared");gw_product_list_item_iterator=$(".list-container .productData.ajax-prepared").length;$list_rows.each(function(){$(this).attr("rel","#gw-product-list-row-ajax-content-"+ajax_content_iterator_row);$(this).after('<div id="gw-product-list-row-ajax-content-'+ajax_content_iterator_row+'" class="gw-product-list-row-ajax-content gw-product-list-ajax-content"></div>');$(this).addClass("ajax-prepared");ajax_content_iterator_row+=1});$not_prepared_productData_elements.each(function(){$(this).attr("rel","#gw-product-list-item-ajax-content-"+ajax_content_iterator_item);$(this).after('<div id="gw-product-list-item-ajax-content-'+ajax_content_iterator_item+'" class="gw-product-list-item-ajax-content gw-product-list-ajax-content"></div>');$(this).append('<div class="gw-product-list-item-trigger" />');$(this).addClass("ajax-prepared");ajax_content_iterator_item+=1});$(document).on("dblclick",".ajax-prepared .gw-product-list-item-trigger",function(e){var $parent_item=$(this).parent(),ajax_load_url=$parent_item.find(".title a").attr("href");window.open(ajax_load_url)});return}function gw_call_availablilty_reminder_js(){var $UserInfoModal=$(".dd-userinfo-modal").not(".has-modal-events");if($UserInfoModal.length){$UserInfoModal.on("shown.bs.modal",function(){var bsModal=$(this).data("bs.modal");bsModal.$backdrop.css("z-index",1080);bsModal.$element.css("z-index",1090);$(".dd-userinfo-article-id",this).val(bsModal.options.articleId)}).on("hidden.bs.modal",function(){$(".dd-notify-action",this).removeAttr("disabled")});$(".dd-notify-action",$UserInfoModal).on("click",function(e){e.preventDefault();var $btn=$(this);var $form=$(".dd-userinfo-form");var validateFields=["#userinfo_field_name","#userinfo_field_lastname","#userinfo_field_usermail"];var valid=true;validateFields.forEach(function(sFieldID){var oInput=$(sFieldID);var sValue=oInput.val();if(!sValue.trim()){valid=false;oInput.css("border-color","red")}else{oInput.css("border-color","")}});if(valid){$btn.attr("disabled",true);$form.find("[name='cl']").val("details");$.post($form.attr("action"),$form.serialize(),function(){$UserInfoModal.modal("hide");$("#clearuserinfo").trigger("reset")})}});$UserInfoModal.addClass("has-modal-events")}}gw_append_ajax_list_elements();$(document).on("click",".ajax-prepared .gw-product-list-item-trigger",function(e){var $parent_item=$(this).parent(),$ajax_content_box=$($(window).width()<768?$(this).parent().attr("rel"):$(this).parents(".row").attr("rel")),$all_list_items=$(".list-container .productData"),ajax_load_url=$parent_item.find(".title a").attr("href");if($parent_item.hasClass("active")){$ajax_content_box.slideUp(function(){$all_list_items.removeClass("active");$ajax_content_box.removeClass("active active-0 active-1 active-2 active-3");$ajax_content_box.html("")})}else{$all_list_items.removeClass("active");var position_in_row=$parent_item.parent().find("[class='"+$parent_item.attr("class")+"']").index($parent_item);$(".gw-product-list-ajax-content").each(function(){if($(this).attr("id")!=$ajax_content_box.attr("id")){$(this).removeClass("active active-0 active-1 active-2 active-3");$(this).slideUp();$(this).html("");console.log("remove class from #"+$(this).attr("id"))}});$ajax_content_box.addClass("active");$ajax_content_box.removeClass("active-0 active-1 active-2 active-3");$ajax_content_box.addClass("active-"+position_in_row);$.ajax({url:ajax_load_url,type:"GET",data:{gwlistarticledetails:1},timeout:5e3,success:function(data){$ajax_content_box.html($(data).find("#details_container"));$ajax_content_box.append('<div class="gw-ajax-content-closer"><span class="gw-icon-bar"></span><span class="gw-icon-bar"></span></div>');$ajax_content_box.stop(true,true).slideDown(function(){$parent_item.addClass("active");var article_loaded_and_slide_down_event=jQuery.Event("article_loaded_and_slide_down");article_loaded_and_slide_down_event.content_box=$ajax_content_box;article_loaded_and_slide_down_event.list_element=$parent_item;$("body").trigger(article_loaded_and_slide_down_event)});var article_loaded_event=jQuery.Event("article_loaded");article_loaded_event.content_box=$ajax_content_box;article_loaded_event.list_element=$parent_item;$("body").trigger(article_loaded_event);gw_call_availablilty_reminder_js()},error:function(x,t,m){if(t==="timeout"){alert("Error - Code: D3")}else{alert("Error - Code: D2")}},complete:function(data){}})}});$(document).on("click",".gw-ajax-content-closer",function(){$(".list-container .productData").removeClass("active");$(this).parent().slideUp()});$(document).on("click",".gw-article-color-picker li a",function(){var $ajax_content_box=$(".gw-product-list-ajax-content.active"),ajax_load_url=$(this).attr("href");$.ajax({url:ajax_load_url,type:"GET",data:{gwlistarticledetails:1},timeout:5e3,success:function(data){$ajax_content_box.html($(data).find("#details_container"));gw_call_availablilty_reminder_js()},error:function(x,t,m){if(t==="timeout"){alert("Error - Code: D3")}else{alert("Error - Code: D2")}},complete:function(data){}});return false});$("body").on("article_loaded_and_slide_down",function(event){var parent_position=event.list_element.offset();$("body,html").stop(true,true).animate({scrollTop:parent_position.top+"px"})});$(document).bind("infiniteScrollingDone",function(){gw_append_ajax_list_elements()})})});