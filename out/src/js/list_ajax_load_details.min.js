var gw_product_list_item_iterator=0,ajax_content_iterator_row=0,ajax_content_iterator_2_column_row=0,ajax_content_iterator_item=0;var gw_max_mobile_device_width=0,gw_max_tablet_device_width=991;(function(gw){gw(window.jQuery,window,document)})(function($,window,document){$(function(){function gw_append_ajax_list_elements(){var $not_prepared_productData_elements=$(".list-container .productData").not(".ajax-prepared"),$list_every_second_list_elment=$(".list-container .productData:odd").not(".ajax-prepared");$list_rows=$(".list-container > .row").not(".ajax-prepared");gw_product_list_item_iterator=$(".list-container .productData.ajax-prepared").length;$list_rows.each(function(){$(this).attr("rel","#gw-product-list-row-ajax-content-"+ajax_content_iterator_row);$(this).after('<div id="gw-product-list-row-ajax-content-'+ajax_content_iterator_row+'" class="gw-product-list-row-ajax-content gw-product-list-ajax-content"></div>');$(this).addClass("ajax-prepared");ajax_content_iterator_row+=1});$list_every_second_list_elment.each(function(){$(this).after('<div id="gw-product-list-2-column-row-ajax-content-'+ajax_content_iterator_2_column_row+'" class="gw-product-list-2-column-row-ajax-content gw-product-list-ajax-content"></div>');$(this).addClass("ajax-prepared");ajax_content_iterator_2_column_row+=1});$not_prepared_productData_elements.each(function(){$(this).attr("rel","#gw-product-list-item-ajax-content-"+ajax_content_iterator_item);$(this).after('<div id="gw-product-list-item-ajax-content-'+ajax_content_iterator_item+'" class="gw-product-list-item-ajax-content gw-product-list-ajax-content"></div>');$(this).append('<div class="gw-product-list-item-trigger" />');$(this).addClass("ajax-prepared");ajax_content_iterator_item+=1});$(document).on("dblclick",".ajax-prepared .gw-product-list-item-trigger",function(e){var $parent_item=$(this).parent(),ajax_load_url=$parent_item.find(".title a").attr("href");window.open(ajax_load_url)});return}function gw_call_availablilty_reminder_js(){var $UserInfoModal=$(".dd-userinfo-modal").not(".has-modal-events");if($UserInfoModal.length){$UserInfoModal.on("shown.bs.modal",function(){var bsModal=$(this).data("bs.modal");bsModal.$backdrop.css("z-index",1080);bsModal.$element.css("z-index",1090);$(".dd-userinfo-article-id",this).val(bsModal.options.articleId)}).on("hidden.bs.modal",function(){$(".dd-notify-action",this).removeAttr("disabled")});$(".dd-notify-action",$UserInfoModal).on("click",function(e){e.preventDefault();var $btn=$(this);var $form=$(".dd-userinfo-form");var validateFields=["#userinfo_field_name","#userinfo_field_lastname","#userinfo_field_usermail"];var valid=true;validateFields.forEach(function(sFieldID){var oInput=$(sFieldID);var sValue=oInput.val();if(!sValue.trim()){valid=false;oInput.css("border-color","red")}else{oInput.css("border-color","")}});if(valid){$btn.attr("disabled",true);$form.find("[name='cl']").val("details");$.post($form.attr("action"),$form.serialize(),function(){$UserInfoModal.modal("hide");$("#clearuserinfo").trigger("reset")})}});$UserInfoModal.addClass("has-modal-events")}}function gw_order_active_color_to_start($ajax_content_box){var sibling_id=$ajax_content_box.data("sibling-id");if(sibling_id){$ajax_content_box.find("li[data-sibling-id='"+sibling_id+"']").css({order:"-1"})}}gw_append_ajax_list_elements();$(document).on("click",".ajax-prepared .gw-product-list-item-trigger",function(e,triggerArticleLoadedEvent){var $parent_item=$(this).parent(),$ajax_content_box=$($(window).width()<=gw_max_mobile_device_width?$parent_item.attr("rel"):$(window).width()<=gw_max_tablet_device_width?"#"+$parent_item.nextAll(".gw-product-list-2-column-row-ajax-content").attr("id"):$(this).parents(".row").attr("rel")),$all_list_items=$(".list-container .productData"),ajax_load_url=$parent_item.find(".title a").attr("href");if($ajax_content_box.length==0){$ajax_content_box=$($parent_item.parents(".row").attr("rel"))}if($parent_item.hasClass("active")){$ajax_content_box.slideUp(function(){$all_list_items.removeClass("active");$ajax_content_box.removeClass("active active-0 active-1 active-2 active-3");$ajax_content_box.html("")})}else{$all_list_items.removeClass("active");var position_in_row=$parent_item.parent().find("[class='"+$parent_item.attr("class")+"']").index($parent_item);$(".gw-product-list-ajax-content").each(function(){if($(this).attr("id")!=$ajax_content_box.attr("id")){$(this).removeClass("active active-0 active-1 active-2 active-3");$(this).slideUp();$(this).html("")}});$ajax_content_box.addClass("active");$ajax_content_box.removeClass("active-0 active-1 active-2 active-3");$ajax_content_box.addClass("active-"+position_in_row);$.ajax({url:ajax_load_url,type:"GET",data:{gwlistarticledetails:1},timeout:5e3,success:function(data){$ajax_content_box.html($(data).find("#details_container"));$ajax_content_box.stop(true,true).slideDown(function(){$parent_item.addClass("active");var article_loaded_and_slide_down_event=jQuery.Event("article_loaded_and_slide_down");article_loaded_and_slide_down_event.content_box=$ajax_content_box;article_loaded_and_slide_down_event.list_element=$parent_item;$("body").trigger(article_loaded_and_slide_down_event)});if(typeof triggerArticleLoadedEvent==="undefined"||triggerArticleLoadedEvent==true){var article_loaded_event=jQuery.Event("article_loaded");article_loaded_event.content_box=$ajax_content_box;article_loaded_event.list_element=$parent_item;article_loaded_event.pagetitle=$ajax_content_box.find(".productTitle").first().text()+" "+$ajax_content_box.find(".gw-article-number").first().text();article_loaded_event.url=ajax_load_url;$("body").trigger(article_loaded_event)}if(typeof ga!=="undefined"){ga("send","pageview",window.location.pathname+window.location.search)}else{}gw_call_availablilty_reminder_js()},error:function(x,t,m){if(t==="timeout"){alert("Error - Code: D3")}else{alert("Error - Code: D2")}},complete:function(data){}})}});$(document).on("click",".gw-ajax-content-closer",function(){$(".list-container .productData").removeClass("active");$(this).parent().slideUp()});$(document).on("click",".gw-article-color-picker li a",function(){var $ajax_content_box=$(".gw-product-list-ajax-content.active"),ajax_load_url=$(this).attr("href");$.ajax({url:ajax_load_url,type:"GET",data:{gwlistarticledetails:1},timeout:5e3,success:function(data){$ajax_content_box.html($(data).find("#details_container"));gw_order_active_color_to_start($ajax_content_box);gw_call_availablilty_reminder_js()},error:function(x,t,m){if(t==="timeout"){alert("Error - Code: D3")}else{alert("Error - Code: D2")}},complete:function(data){}});return false});$("body").on("article_loaded",function(event){var $color_picker=event.content_box.find(".gw-article-color-picker");if($color_picker.length>0){var initial_active_model_id=$color_picker.find("li.active").data("sibling-id");event.content_box.data("sibling-id",initial_active_model_id)}gw_order_active_color_to_start(event.content_box)});$("body").on("article_loaded_and_slide_down",function(event){var parent_position=event.list_element.offset();$("body,html").stop(true,true).animate({scrollTop:parent_position.top+"px"})});$(document).bind("infiniteScrollingDone",function(){gw_append_ajax_list_elements()});$(document).bind("ajaxComplete",function(event){var $content_box=$(event.target).find(".gw-product-list-ajax-content.active");$content_box.append('<div class="gw-ajax-content-closer"><span class="gw-icon-bar"></span><span class="gw-icon-bar"></span></div>');gw_order_active_color_to_start($content_box)});var article_loaded_counter=1;$("body").on("article_loaded",function(event){if(!event.list_element.attr("id")){event.list_element.attr("id","article-loaded-"+article_loaded_counter++)}var stateObj={listElement:"#"+event.list_element.attr("id")};history.pushState(stateObj,event.pagetitle,event.url)});window.onpopstate=function(event){if(typeof event.state.listElement!=="undefined"){$(event.state.listElement).find(".gw-product-list-item-trigger").trigger("click",[false])}}})});