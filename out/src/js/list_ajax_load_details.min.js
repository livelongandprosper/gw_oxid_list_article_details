var gw_product_list_item_iterator=0,ajax_content_iterator_row=0,ajax_content_iterator_2_column_row=0,ajax_content_iterator_item=0;var gw_max_mobile_device_width=0,gw_max_tablet_device_width=991;var gw_ajax_timeout=15000;(function(a){a(window.jQuery,window,document)}(function(c,b,a){c(function(){function e(){var i=c(".list-container .productData").not(".ajax-prepared"),h=c(".list-container .productData:odd").not(".ajax-prepared");$list_rows=c(".list-container > .row").not(".ajax-prepared");gw_product_list_item_iterator=c(".list-container .productData.ajax-prepared").length;$list_rows.each(function(){c(this).attr("rel","#gw-product-list-row-ajax-content-"+(ajax_content_iterator_row));c(this).after('<div id="gw-product-list-row-ajax-content-'+(ajax_content_iterator_row)+'" class="gw-product-list-row-ajax-content gw-product-list-ajax-content"></div>');c(this).addClass("ajax-prepared");ajax_content_iterator_row+=1});h.each(function(){c(this).after('<div id="gw-product-list-2-column-row-ajax-content-'+(ajax_content_iterator_2_column_row)+'" class="gw-product-list-2-column-row-ajax-content gw-product-list-ajax-content"></div>');c(this).addClass("ajax-prepared");ajax_content_iterator_2_column_row+=1});i.each(function(){c(this).attr("rel","#gw-product-list-item-ajax-content-"+(ajax_content_iterator_item));c(this).after('<div id="gw-product-list-item-ajax-content-'+(ajax_content_iterator_item)+'" class="gw-product-list-item-ajax-content gw-product-list-ajax-content"></div>');c(this).append('<div class="gw-product-list-item-trigger" />');c(this).addClass("ajax-prepared");ajax_content_iterator_item+=1});c(a).on("dblclick",".ajax-prepared .gw-product-list-item-trigger",function(l){var j=c(this).parent(),k=j.find(".title a").attr("href");b.open(k)});return}function g(){var h=c(".dd-userinfo-modal").not(".has-modal-events");if(h.length){h.on("shown.bs.modal",function(){var i=c(this).data("bs.modal");i.$backdrop.css("z-index",1080);i.$element.css("z-index",1090);c(".dd-userinfo-article-id",this).val(i.options.articleId)}).on("hidden.bs.modal",function(){c(".dd-notify-action",this).removeAttr("disabled")});c(".dd-notify-action",h).on("click",function(m){m.preventDefault();var k=c(this);var i=c(".dd-userinfo-form");var l=["#userinfo_field_name","#userinfo_field_lastname","#userinfo_field_usermail"];var j=true;l.forEach(function(p){var n=c(p);var o=n.val();if(!o.trim()){j=false;n.css("border-color","red")}else{n.css("border-color","")}});if(j){k.attr("disabled",true);i.find("[name='cl']").val("details");c.post(i.attr("action"),i.serialize(),function(){h.modal("hide");c("#clearuserinfo").trigger("reset")})}});h.addClass("has-modal-events")}}function d(i){var h=i.data("sibling-id");if(h){i.find("li[data-sibling-id='"+h+"']").css({order:"-1"})}}if(c("body").hasClass("cl-alist")||c("body").hasClass("cl-search")||c("body").hasClass("cl-start")){e()}c(a).on("click",".ajax-prepared .gw-product-list-item-trigger",function(m,i){var h=c(this).parent(),n=c(c(b).width()<=gw_max_mobile_device_width?h.attr("rel"):c(b).width()<=gw_max_tablet_device_width?"#"+h.nextAll(".gw-product-list-2-column-row-ajax-content").attr("id"):c(this).parents(".row").attr("rel")),l=c(".list-container .productData"),k=h.find(".title a").attr("href");if(n.length==0){n=c(h.parents(".row").attr("rel"))}if(h.hasClass("active")){n.slideUp(function(){l.removeClass("active");n.removeClass("active active-0 active-1 active-2 active-3");n.html("")});console.log("article clicked again -> close")}else{l.removeClass("active");var j=h.parent().find("[class='"+h.attr("class")+"']").index(h);c(".gw-product-list-ajax-content:visible").each(function(){if(c(this).attr("id")!=n.attr("id")){var o=b.pageYOffset,q=c(this).offset(),p=c(this)[0].offsetHeight;c(this).removeClass("active active-0 active-1 active-2 active-3");c(this).slideUp({progress:function(r){if(o>q.top){var s=r.elem.offsetHeight;b.scrollTo(0,o+s-p)}}});c(this).html("")}});n.addClass("active");n.removeClass("active-0 active-1 active-2 active-3");n.addClass("active-"+(j));c.ajax({url:k,type:"GET",data:{gwlistarticledetails:1},timeout:gw_ajax_timeout,success:function(o){n.html(c(o).find("#details_container"));n.stop(true,true).slideDown(function(){h.addClass("active");var q=jQuery.Event("article_loaded_and_slide_down");q.content_box=n;q.list_element=h;c("body").trigger(q)});if(typeof i==="undefined"||i==true){var p=jQuery.Event("article_loaded");p.content_box=n;p.list_element=h;p.pagetitle=n.find(".productTitle").first().text()+" "+n.find(".gw-article-number").first().text();p.url=k;c("body").trigger(p)}if(typeof ga!=="undefined"){ga("send","pageview",b.location.pathname+b.location.search)}else{}g()},error:function(p,q,o){if(q==="timeout"){alert("Error - Code: D3")}else{alert("Error - Code: D2")}},complete:function(o){}})}});c(a).on("click",".gw-ajax-content-closer",function(){c(".list-container .productData").removeClass("active");c(this).parent().slideUp()});c(a).on("click",".gw-article-color-picker li a",function(i){var j=c(this).parents(".details-container"),h=c(this).attr("href");c.ajax({url:h,type:"GET",data:{gwlistarticledetails:1},timeout:gw_ajax_timeout,success:function(k){j.html(c(k).find("#details_container"));d(j);g();(function(){c("#dynamicContent").find("[id]").each(function(){const l=c(this).attr("id");if(c("#"+l).length>0){c(this).attr("id",l+"-lightbox")}});c("#dynamicContent a[href]").each(function(){const l=c(this).attr("href");if(l){c(this).attr("href",l+(l.indexOf("?")!=-1?"&":"?")+"lightbox=1")}})})()},error:function(l,n,k){if(n==="timeout"){alert("Error - Code: D3")}else{alert("Error - Code: D2")}},complete:function(k){}});return false});c("body").on("article_loaded",function(i){var j=i.content_box.find(".gw-article-color-picker");if(j.length>0){var h=j.find("li.active").data("sibling-id");i.content_box.data("sibling-id",h)}d(i.content_box)});c("body").on("article_loaded_and_slide_down",function(h){var i=h.list_element.offset();c("body,html").stop(true,true).animate({scrollTop:(i.top)+"px"})});c(a).bind("infiniteScrollingDone",function(){e()});c(a).bind("ajaxComplete",function(h){var i=c(h.target).find(".gw-product-list-ajax-content.active");i.append('<div class="gw-ajax-content-closer"><span class="gw-icon-bar"></span><span class="gw-icon-bar"></span></div>');d(i)});var f=1;c("body").on("article_loaded",function(i){if(!i.list_element.attr("id")){i.list_element.attr("id","article-loaded-"+f++)}var h={listElement:"#"+i.list_element.attr("id")};history.pushState(h,i.pagetitle,i.url)});b.onpopstate=function(h){if(h.state&&typeof h.state.listElement!=="undefined"){if(!c(h.state.listElement).hasClass("active")){c(h.state.listElement).find(".gw-product-list-item-trigger").trigger("click",[false])}}}})}));